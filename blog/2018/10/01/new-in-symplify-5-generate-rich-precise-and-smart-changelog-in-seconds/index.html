<!DOCTYPE html>
<html lang="en">
    <head>
    <title>New in Symplify 5: Generate Rich, Precise and Smart Changelog in Seconds | Tomas Votruba</title>
    <meta charset="utf-8">
    <meta name="robots" content="index, follow">

        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    
    <link rel="alternate" type="application/rss+xml" title="Tomas Votruba Blog RSS" href="/rss.xml">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/solid.css" integrity="sha384-wnAC7ln+XN0UKdcPvJvtqIH3jOjs9pnKnq9qX68ImXvOGz2JuFoEiCjT8jyZQX2z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/brands.css" integrity="sha384-nT8r1Kzllf71iZl81CdFzObMsaLOhqBU1JD2+XoAALbdtWaXDOlWOZTR4v1ktjPE" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/fontawesome.css" integrity="sha384-HbmWTHay9psM8qyzEKPc8odH4DsOuzdejtnr+OFtDmOcIVnhgReQ4GZBH7uwcjf6" crossorigin="anonymous">

        <link href="/assets/bootstrap/bootstrap.min.css?v=741351251" rel="stylesheet" type="text/css" />

    <link href="/assets/prism/prism.css?v=2032779213" rel="stylesheet" type="text/css" />

        <link href="/assets/css/style.css?v=1567512251" rel="stylesheet" type="text/css" />

    <link href="/assets/gifplayer/gifplayer.css" rel="stylesheet" type="text/css" />

        <link href="/assets/css/checklist.css?v=1818430388" rel="stylesheet" type="text/css" />

    <script src="/assets/js/jquery-3.3.1.slim.min.js"></script>
    <script src="/assets/gifplayer/jquery.gifplayer.js"></script>
    <script src="/assets/js/checklist.js" async defer></script>
</head>
    <body>
        <!-- post_id: 144 -->

        <div class="hidden-sm-down">
    <nav class="navbar">
        <div class="container-fluid">
            <ul>
                <li id="logo">
                    <img src="https://avatars1.githubusercontent.com/u/924196?s=60&v=4" class="avatar">
                    Tomas Votruba
                </li>
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li class="">
                    <a href="/clusters/">Clusters</a>
                </li>
                <li class="">
                    <a href="/mission/">Mission</a>
                </li>
                <li class="">
                    <a href="/talks/">Talks</a>
                </li>
                <li class="">
                    <a href="/contact/">Contact</a>
                </li>
                <li id="top-menu-search">
                    <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction">
                        <meta itemprop="target" content="https://www.google.com/search?q={q}"/>
                        <input name="sitesearch" value="tomasvotruba.cz" type="hidden"/>
                        <input itemprop="query-input" type="text" id="search-query" class="form-control" required="required" name="q" placeholder="Search..." autocomplete="off"/>
                    </form>
                </li>
            </ul>
        </div>
    </nav>
</div>

<div class="hidden-md-up">
    <nav class="navbar" id="mobile-menu">
        <div class="container">
            <a href="/" class="col-3 col-sm-3 active">
                <em class="fas fa-book"></em>
                <br>
                PHP Blog
            </a>
            <a href="/clusters/" class="col-3 col-sm-3 ">
                <em class="fas fa-share-alt"></em>
                <br>
                Clusters
            </a>
            <a href="/mission/" class="col-3 col-sm-3 ">
                <em class="fas fa-heartbeat"></em>
                <br>
                Mission
            </a>
            <a href="/contact/" class="col-3 col-sm-3 ">
                <em class="fas fa-phone"></em>
                <br>
                Contact
            </a>
        </div>
    </nav>

    <div class="hidden-md-up text-center row" id="top-menu-search-mobile">
        <!-- inspired and taken from: https://github.com/yegor256/blog/blob/master/_layouts/default.html -->
        <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction" class="col-md-12">
            <meta itemprop="target" content="https://www.google.com/search?q={q}"/>
            <input name="sitesearch" value="tomasvotruba.cz" type="hidden"/>
            <input itemprop="query-input" type="text" id="search-query" class="form-control" required="required" name="q" placeholder="Search with Google..." autocomplete="off"/>
        </form>
    </div>
</div>

        <div class="mainContent">
            <div class="container-fluid" id="post">
                <h1 id="new-in-symplify-5-generate-rich-precise-and-smart-changelog-in-seconds"><a href="#new-in-symplify-5-generate-rich-precise-and-smart-changelog-in-seconds">New in Symplify 5: Generate Rich, Precise and Smart Changelog in Seconds</a></h1>

                <ul class="list-inline post-metadata">
    <li class="list-inline-item mr-3">
        <em class="fas fa-clock fa-fw"></em>
        <strong>3 min</strong>
    </li>

    <li class="list-inline-item mr-3">
        <em class="fas fa-calendar fa-fw"></em>
        <time datetime="2018-10-Mon">Mon, Oct 1, 2018</time>
    </li>

            <li class="list-inline-item mr-3">
            <em class="fas fa-fw fa-comments"></em>
            <a href="https://www.tomasvotruba.cz/blog/2018/10/01/new-in-symplify-5-generate-rich-precise-and-smart-changelog-in-seconds/#disqus_thread">X</a> comments
        </li>
    
            <li class="list-inline-item">
            <em class="fas fa-fw fa-edit"></em>
            <a href="https://github.com/TomasVotruba/tomasvotruba.cz/edit/master/source/_posts/2018/2018-10-01-new-in-symplify-5-generate-rich-precise-and-smart-changelog-in-seconds.md">Typo? Fix me, please</a>
        </li>
    
    </ul>

                
                
                <div class="card card-bigger">
                    <div class="card-body">
                        ChangelogLinker started as a small tool to complete links to PRs, authors, and versions in <code>CHANGELOG.md</code>. Then it started to <a href="/blog/2018/06/25/let-changelog-linker-generate-changelog-for-you/">generate</a> the <code>CHANGELOG.md</code>.
<br><br>
<strong>Where is now and how to start using it?</strong>
                    </div>
                </div>

                
                <h3 id="tested-on-humans"><a href="#tested-on-humans">Tested on Humans ✅</a></h3>
<p><a href="https://github.com/shopsys/shopsys/pull/446/files" class="btn btn-dark btn-sm mt-2">
<em class="fab fa-github fa-fw"></em>
See pull-request #446 on Shopsys
</a></p>
<blockquote class="blockquote text-center">
    "If you're not embarrassed by the first version of your product,<br>
    you've launched too late."
    <footer class="blockquote-footer"><a href="https://www.linkedin.com/pulse/arent-any-typos-essay-we-launched-too-late-reid-hoffman">Reid Hoffman</a>, Founder of Linkedin</footer></blockquote>
<p>The first version of any software is how the author(s) think people will use it. It's like trying to see the future of people you've never met. That's why the first version is <strong>better done than perfect</strong>. The important part is to <strong>collect feedback as soon as possible and improve based</strong> on it.</p>
<p>Saying that I recommended ChangelogLinker to Shopsys to manage news in their <a href="https://github.com/shopsys/shopsys/">monorepo</a>. In exchange, I got informative and clear feedback with creative ideas on how to solve it from <a href="https://github.com/vitek-rostislav">Rostislav Vitek</a> and <a href="https://github.com/petrheinz">Petr Heinz</a>. <strong>Huge thanks for making this tool better belongs to you guys</strong>.</p>
<p><br></p>
<p>First, install this package:</p>
<pre><code class="language-bash">composer require symplify/changelog-linker --dev</code></pre>
<h2 id="1-multiple-code-changelog-md-code-for-smaller-versions"><a href="#1-multiple-code-changelog-md-code-for-smaller-versions">1. Multiple <code>CHANGELOG.md</code> for Smaller Versions</a></h2>
<p><a href="https://github.com/Symplify/Symplify/pull/1047/files#diff-3b69acbe6b33a88158b373e6e96de097" class="btn btn-dark btn-sm">
<em class="fab fa-github fa-fw"></em>
See pull-request #1047
</a></p>
<p>If you have more than 2 major versions, your changelog can be really long and hard to orientate. Some people want to see the news in your version 3, some are still using version 1 and need to upgrade gradually.</p>
<p>I got this inspiration from Symfony, where they have *<em>own CHANGELOG per minor versions</em>:</p>
<pre><code class="language-bash">CHANGELOG-4.0.md
CHANGELOG-4.1.md</code></pre>
<p>Good idea to keep files not huge and clear. So <strong>Now</strong> it's possible to work with each CHANGELOG file separately - just use file path as the first argument of any command:</p>
<pre><code class="language-php">vendor/bin/changelog-linker link # "CHANGELOG.md" is used
vendor/bin/changelog-linker link CHANGELOG-2.md
vendor/bin/changelog-linker link CHANGELOG-3.md</code></pre>
<h2 id="2-smarter-last-change-detection"><a href="#2-smarter-last-change-detection">2. Smarter Last Change Detection</a></h2>
<p><a href="https://github.com/Symplify/Symplify/commit/05d91b9412ebec49a66a4717d856a5a2c6718232" class="btn btn-dark btn-sm">
<em class="fab fa-github fa-fw"></em>
See commit
</a></p>
<p>This package generates changelog from merged PRs, that are not mentioned in your <code>CHANGELOG.md</code> yet.</p>
<pre><code class="language-bash">vendor/bin/changelog-linker dump-merges</code></pre>
<p><strong>Before</strong> it looks for the highest merged PR ID and added only PRs with higher id. But what if you merge PR with number 1000, but number 990 is still opened due to longer code review?</p>
<p><strong>Now</strong> it works with the <code>merged_at</code> instead, so no merged PR is left behind.</p>
<h2 id="3-remove-dead-links"><a href="#3-remove-dead-links">3. Remove Dead Links</a></h2>
<p><a href="https://github.com/Symplify/Symplify/pull/1045/files" class="btn btn-dark btn-sm">
<em class="fab fa-github fa-fw"></em>
See pull-request #1045
</a></p>
<p>This is the best command to start with when you install this package for the first time.</p>
<p><code>CHANGELOG.md</code> can be edited, items removes, shifter above or links duplicated. To keep it fit and slim, you'd have to check this manually with every link. And believe me, if you have 500+ PRs, 50+ contributors and 30+ versions, it's not as fun as you imagine.</p>
<p>That's where &quot;cleanup&quot; rocks:</p>
<pre><code class="language-bash">vendor/bin/changelog-linker cleanup

# again, you can use the file as argument
vendor/bin/changelog-linker cleanup CHANGELOG-2.md</code></pre>
<p>In Symplify <code>CHANGELOG.md</code> itself it <a href="https://github.com/Symplify/Symplify/pull/1045/files#diff-4ac32a78649ca5bdd8e0ba38b7006a1e">removed 50 dead lines</a>.</p>
<h2 id="4-improved-category-detection"><a href="#4-improved-category-detection">4. Improved Category Detection</a></h2>
<p><a href="https://github.com/Symplify/Symplify/pull/1064/files#diff-2ee93fc74523d03ea046d5419ae75a9a" class="btn btn-dark btn-sm">
<em class="fab fa-github fa-fw"></em>
See pull-request #1064
</a></p>
<p><small>
Thanks to <a href="http://github.com/petrheinz">Petr Heinz</a> ❤️️
</small></p>
<p><br></p>
<p>When you generate a <code>CHANGELOG.md</code> you can use <code>--in-categories</code> option:</p>
<pre><code class="language-bash">vendor/bin/changelog-linker dump-merges --in-categories</code></pre>
<p>It will assign PRs to one of 4 categories: <em>Added</em>, <em>Fixed</em>, <em>Changed</em> and <em>Removed</em>. I didn't make them up, it's a standard taken from <a href="https://keepachangelog.com/en/1.0.0/">keepachangelog.com</a>.</p>
<p><strong>How it works?</strong> It uses regex to detect keywords in the pull-request title, e.g.</p>
<p><code>Added "cleanup" command</code> → Added
<code>Remove dead links</code> → Removed
<code>Fix ID detection</code> → Fixed</p>
<p>You can see all the regexes in <a href="https://github.com/Symplify/Symplify/blob/v5.0.0/packages/ChangelogLinker/src/ChangeTree/Resolver/CategoryResolver.php"><code>CategoryResolver</code></a>.</p>
<p>Peter added many keywords, but also showed me a new trick : <strong>the <a href="https://www.regular-expressions.info/wordboundaries.html"><code>\b</code> wrapper</a></strong>:</p>
<pre><code class="language-bash">-private const ADDED_PATTERN = '#(add|added|adds) #i';
+private const ADDED_PATTERN = '#\b(add(s|ed|ing)?)\b#i';</code></pre>
<p>It means, that words need to be standalone. Not part of any other string.
Regex <code>\b(is)\b</code> applied to <code>"This island is beautiful"</code> returns <code>["is"]</code>.</p>
<p>A very nice trick that made detection much more precise. Thanks, Peter!</p>
<p><br></p>
<p>Happy changing!</p>

                <br>

                
                <div class="card mb-5">
                    <div class="card-body text-center">
                        <a href="https://github.com/TomasVotruba/tomasvotruba.cz/edit/master/source/_posts/2018/2018-10-01-new-in-symplify-5-generate-rich-precise-and-smart-changelog-in-seconds.md" class="btn btn-info btn-sm">
                            <em class="fas fa-fw fa-edit"></em>
                            Typo? Fix it, please
                        </a>
                        &nbsp;and join <a href="/thank-you">56 people</a> who build this website
                    </div>
                </div>

                <a name="comments"></a>

                <div id="disqus_thread"></div>

<script type="text/javascript">
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//' + 'itsworthsharing' + '.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
            </div>

            <script id="dsq-count-scr" src="https://itsworthsharing.disqus.com/count.js" async defer></script>
        </div>

        <script>
    ga=function(){ ga.q.push(arguments) };
    ga.q=[];
    ga.l=+new Date;
    ga('create', 'UA-46082345-1', 'auto');
    ga('send','pageview');
</script>
<script src="https://www.google-analytics.com/analytics.js" async defer></script>

<script src="/assets/prism/prism.js"></script>

<script>
    $('.gifplayer').gifplayer();
</script>

<div class="text-center mt-5" id="footer">
    <div class="row">
        <div class="col-12">
            Join 17 000 PHP developers every month: <a href="/rss.xml">RSS</a>&nbsp;or&nbsp;<a href="https://twitter.com/votrubaT">@votrubaT</a>

            <span class="pl-2 pr-2 hidden-sm-down">•</span>

            <span class="hidden-sm-down">
                Watch my <a href="https://github.com/tomasvotruba">open-source addiction</a>
            </span>
        </div>
    </div>

    <p>
        Build by <a href="/thank-you/">56 people</a>

        <span class="pl-2 pr-2">•</span>

        Runs on <a href="https://www.statie.org/">Statie</a>

        <span class="pl-2 pr-2">•</span>

        <a href="/now/">Now</a>

        <span class="hidden-sm-down">
            <span class="pl-2 pr-2">•</span>
            Hosted on <a href="https://github.com/tomasvotruba/tomasvotruba.cz">GitHub</a>
        </span>
    </p>
</div>
    </body>
</html>

        <meta property="og:type" content="article" />
    <meta property="og:title" content="New in Symplify 5: Generate Rich, Precise and Smart Changelog in Seconds" />
    <meta property="og:description" content="ChangelogLinker started as a small tool to complete links to PRs, authors, and versions in CHANGELOG.md. Then it started to generate the CHANGELOG.md.

Where is now and how to start using it?" />
    <meta property="og:url" content="https://www.tomasvotruba.cz/blog/2018/10/01/new-in-symplify-5-generate-rich-precise-and-smart-changelog-in-seconds" />

        <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@votrubaT">
    <meta name="twitter:title" content="New in Symplify 5: Generate Rich, Precise and Smart Changelog in Seconds" />
    <meta name="twitter:description" content="ChangelogLinker started as a small tool to complete links to PRs, authors, and versions in CHANGELOG.md. Then it started to generate the CHANGELOG.md.

Where is now and how to start using it?" />
